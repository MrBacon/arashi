(function(A){A.jGrowl=function(B,C){if(A("#jGrowl").size()==0){A('<div id="jGrowl"></div>').addClass(A.jGrowl.defaults.position).appendTo("body")}A("#jGrowl").jGrowl(B,C)};A.fn.jGrowl=function(B,D){if(A.isFunction(this.each)){var C=arguments;return this.each(function(){var E=this;if(A(this).data("jGrowl.instance")==undefined){A(this).data("jGrowl.instance",A.extend(new A.fn.jGrowl(),{notifications:[],element:null,interval:null}));A(this).data("jGrowl.instance").startup(this)}if(A.isFunction(A(this).data("jGrowl.instance")[B])){A(this).data("jGrowl.instance")[B].apply(A(this).data("jGrowl.instance"),A.makeArray(C).slice(1))}else{A(this).data("jGrowl.instance").create(B,D)}})}};A.extend(A.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"center",glue:"after",theme:"default",corners:"10px",check:250,life:3000,speed:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(C,B,D){},beforeOpen:function(C,B,D){},open:function(C,B,D){},beforeClose:function(C,B,D){},close:function(C,B,D){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(B,C){var C=A.extend({},this.defaults,C);this.notifications.push({message:B,options:C});C.log.apply(this.element,[this.element,B,C])},render:function(D){var B=this;var C=D.message;var E=D.options;var D=A('<div class="jGrowl-notification ui-state-highlight ui-corner-all'+((E.group!=undefined&&E.group!="")?" "+E.group:"")+'"><div class="close">'+E.closeTemplate+'</div><div class="header">'+E.header+'</div><div class="message">'+C+"</div></div>").data("jGrowl",E).addClass(E.theme).children("div.close").bind("click.jGrowl",function(){A(this).parent().trigger("jGrowl.close")}).parent();A(D).bind("mouseover.jGrowl",function(){A("div.jGrowl-notification",B.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){A("div.jGrowl-notification",B.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(E.beforeOpen.apply(D,[D,C,E,B.element])!=false){A(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(E.open.apply(D,[D,C,E,B.element])!=false){if(E.glue=="after"){A("div.jGrowl-notification:last",B.element).after(D)}else{A("div.jGrowl-notification:first",B.element).before(D)}A(this).animate(E.animateOpen,E.speed,E.easing,function(){if(A.browser.msie&&(parseInt(A(this).css("opacity"),10)===1||parseInt(A(this).css("opacity"),10)===0)){this.style.removeAttribute("filter")}A(this).data("jGrowl").created=new Date()})}}).bind("jGrowl.beforeClose",function(){if(E.beforeClose.apply(D,[D,C,E,B.element])!=false){A(this).trigger("jGrowl.close")}}).bind("jGrowl.close",function(){A(this).data("jGrowl.pause",true);A(this).animate(E.animateClose,E.speed,E.easing,function(){A(this).remove();var F=E.close.apply(D,[D,C,E,B.element]);if(A.isFunction(F)){F.apply(D,[D,C,E,B.element])}})}).trigger("jGrowl.beforeOpen");if(A.fn.corner!=undefined){A(D).corner(E.corners)}if(A("div.jGrowl-notification:parent",B.element).size()>1&&A("div.jGrowl-closer",B.element).size()==0&&this.defaults.closer!=false){A(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(B.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){A(this).siblings().children("div.close").trigger("click.jGrowl");if(A.isFunction(B.defaults.closer)){B.defaults.closer.apply(A(this).parent()[0],[A(this).parent()[0]])}})}},update:function(){A(this.element).find("div.jGrowl-notification:parent").each(function(){if(A(this).data("jGrowl")!=undefined&&A(this).data("jGrowl").created!=undefined&&(A(this).data("jGrowl").created.getTime()+A(this).data("jGrowl").life)<(new Date()).getTime()&&A(this).data("jGrowl").sticky!=true&&(A(this).data("jGrowl.pause")==undefined||A(this).data("jGrowl.pause")!=true)){A(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool==0||A(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)){this.render(this.notifications.shift())}if(A(this.element).find("div.jGrowl-notification:parent").size()<2){A(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){A(this).remove()})}},startup:function(B){this.element=A(B).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){A(B).data("jGrowl.instance").update()},this.defaults.check);if(A.browser.msie&&parseInt(A.browser.version)<7&&!window.XMLHttpRequest){A(this.element).addClass("ie6")}},shutdown:function(){A(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove();clearInterval(this.interval)},close:function(){A(this.element).find("div.jGrowl-notification").each(function(){A(this).trigger("jGrowl.beforeClose")})}});A.jGrowl.defaults=A.fn.jGrowl.prototype.defaults})(jQuery);